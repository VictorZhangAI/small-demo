Error: Route "/api/staff/[username]" used `params.username`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at PUT (src/app/api/staff/[username]/route.ts:10:28)
   8 |   try {
   9 |     const formData = await request.formData();
> 10 |     const username = params.username;
     |                            ^
  11 |     const full_name = formData.get('full_name') as string;
  12 |     const gender = formData.get('gender') as string;
  13 |     const position = formData.get('position') as string;
更新员工信息失败: Error: Unknown column 'last_updated' in 'field list'
    at PUT (src/app/api/staff/[username]/route.ts:34:32)
  32 |
  33 |     // 更新员工信息
> 34 |     const [result] = await pool.query(
     |                                ^
  35 |       `UPDATE staff
  36 |        SET full_name = ?, gender = ?, position = ?,
  37 |            hire_date = ?, department = ?, photo = ?, {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: 'UPDATE staff \n' +
    "       SET full_name = '王凯', gender = '男', position = '学工主管', \n" +
    "           hire_date = '2025-03-11', department = '教研部', photo = X'ffd8ffe000104a46494600010101006000600000ffdb004300080606070605080707070909080a0c140d0c0b0b0c1912130f141d1a1f1e1d1a1c1c20242e2720222c231c1c2837292c30313434341f27393d38323c2e333432ffdb0043010909090c0b0c180d0d1832211c213232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232ffc00011080265026503012200021101031101ffc4001c0000000701010000000000000000000000000102030405060708ffc40046100001030303020404040405030205030501020311000421051231064113225161073271811491a1b12342c1f0152452d1e13362f1438216253472b2174453632692a2a3ffc4001a010101010101010100000000000000000000010203040506ffc4003111000202010401030304010402030000000001021121031231415122326113718104233342911452a1b14362d1e1f0ffda000c03010002110311003f00ef7c7b9a1988a3e68450007de84988a0444628111914aa00fb1a100e46228678a2fad0020e7346062802918344491401ed818a3ed452628450046631cd19f6343da840e2801c0f5f5a2c01038346200888a1b680133400cd08f6a18f714016d3eb8a30939ce3b50ed47c500478f588a2c4638a3eff005a0600a00801068c081e9443201e29540173cfd8d18e0d10e2245170460d00638a067b501c1a249264500738a0663271428f0462804ccf7fa5189a23f2e28a481cd47cd11ba1462920d52eadd4ba5e86c95dfdea1a0206559333dab99eb5f1cad192b6b49b45bea3294b8bc09aed0d194b347296ac571c9d914b4264922a0dd6af636625fb9690009f3280af366abf11fac35a53a845c1b76d43e46b1c73079aac4f4f7526b0adf74fbca5762eacc7e66ab8e947df2fc1631d79e52a3d07a97c4ae9bd31095397e85c9884aa48ac4ea7f1d6d5328d3ac96f2883b547106b96bdd3a9b26bc5bc4979a91e23a954802739a996b75d32c425a0a5a95c7a93f5a8b5209b508d8fa0ff00bc8b6bff008a5d5faa2d0a65b4da36a1236a79fb9acadd37ac6b4a4af52bf71d00e12a5ee8915a8d475cb1d434f6ed99b51b9aca55bb29aa70a2424ad589cfd69a9a9ad59c2f08b0d3d24f74239f233a5f4a37784f88eff0c09515aa205686df4be9ab4de3f189707f3a41c4c541d0f51458ea295ba0f82a4f86b3e80d16ada29d317bd93e25a2fccdaf9007604d71d90e66acedba5551745a2750e99b75a9b6ed56e14f729906a43173d3baabc2cd3a790a52606d6f23d73597b1b576fef1bb66412a715823d3d4d6bdc469fd1d645dc3b7ae81b4139ffc565ad372db18fe03fa8a1b9cbf033a974b3286d4f696e02f35214dafcd3ed1eb55fa56aba538fa59d474f65a51f2121b803b411f6a6341ea172c75679cbd5153372adcb8e127ff0011f955b6b7d3adea0d2b50d2d695a8824a41f9c73f9e6b52d250752cc44672d4769d34566afa5b4eeafe0e92e34a4ad1bf685404993c0a63fc3b4a6d3b1fd497e281e6081c1ee0fde6aaadee576b78d5c2014b8d2c1da794c723dbbd5aeb962d92cea5629f118bbf9bc31252b39cfd67f4a9e8ed608b7b751c310cda686eb9e1a75079b29c24ba0004d33a8e9571a51429d505b4b1e5753c28fa7e515656fa65ae89662fb56095dc2cc30c13df9a929d5adfa9595e94ab616eea53e2304f7581dbf335a51b58239a4ea4ad9960770fb628890be306924a9254d3a2169252aed11ff8a2904ce36c76a2bac8145442d24888a6d6da5c3b542403347044e7b48f7a5676991029438232838dcc2cad13241e60538dba95494aa0ff00327bc539ba66522229a7186dccc4280f987229f0099a5ea577a35f0bab232959875becb1fef5d4b49d6ed35ab6f16ddc1bc1f3a4f209f5ae40a529810adce248f9a3352f4ed45db0bbfc4dabbb5d07227e61e86bac649adb2e0c34d3b476520a4923007a52c90124724ffb554683aedbeb5664a06d78405b6790473566530a220c9f43c56251a35192797c902facae3c637360fa98b9382a49f9a3807daa3e9df13757d26e156faab01e4a0ed2a8cf393572982153c11155dab692ceaac90b002fb2c722a4755c30d5a2bd38cf9e4dde85d77a2eb4006ae12dba71b1c306b50958500a0641f5335e58bfb07b4cbd534fa4a54236bb1823b1ad3f4efc41d5f43525a7dc5dd5b4c6d70f980f635d52d3d45703849cf4b9567a03c31b7681b44ce297020cf359ed0babb4cd7adc396f7090a8ca1582327fdaa5eb7ad5b687a5bf7f70e0d881033f328f00573706b0ce8b522f256758f54b1d2da60561cb9730d364f3ce4fb0ae3971f10ba82e6fd57e97fc3301bf0c4840133f9d576a1a8df756f50975e70a96e2e23f95b4f6c7a7f53ef50351b47b4db95da3aadc530411dc1fecfe55a8ea283c125a2b5164eefd297d6dd6bd389bbba6d22e904b6e6d19491ff14ddfe817366a5299056dfa8aa0f82f71fe5354b69f22168581eea907ff00c4575880411009ef5cf522f75c4de9c925b5f4731280df936c289ee2953bda534b421c41237214307339fc856e6fb44b5ba0a3b36acf7159e7b46b8d3d4404ef649e6b1bab9474db7c31567afad94a1055b529ec781da3e9578c6b4dae02d2403dc641acaf80c2c94b6e89064834e336eeb6479e00c93fb576dd8e0e5b73c9b869f69d4ca140fde9c9f41cd639ab875ae0f98771c1a9ec6b0f21427cc9f43529316e3ce4d18ef4638aa7675968bab0eff0d29e0a958e3352adb51b7bb682d8792b49e33512741493e49b42890ae7be68542e050f6a25640a50a28a1403923d2846284e4d09a00002228bf7a511229391401c50a00d1fbd000f14538a19a00e6801c73467e59f4a49249a38c5003bd0039268639a07222801ce28c628b04c50e680068bda8e26801268014407bd2b8a118c734017ed4749073147bb14001c9a113c501826873cd002281e280e4d1e628022600a2e060d11f9a290eba96d054b50481ccd1738237596294a8493dab05d79d7f6fd3168b66de1fbf583b1b49f97eb503aebe26dbe8d6aedbd810f5c46d529390dfbfedf9d71655d2b56ba3a8a9c2eadc0438a5fae3fe2bb463b332e4e0a4e6e97046d41fd5b5dd45cbab94788ebd0497331e91536d7a59d4b5bf50bd16ccc82903049ab6d1f51b1b069cfc4b2a53c4909501302283b75a65ddc07de76f1e23f954207b573d47ab376f83bc3e9e9e23c88b14e9f6576db5a7305fba3e50f3bcfbfe95275cd75e7548b562e494a012b71ae4aa0e314d5b6aba6e9b75e3dbe9c4ac08dca5ccfb521ad5ad5a5155b696cb6f0c827313523092ca59129465ee2169eab9b652c316be232b23c564a010e7d7de86a5d2f682d8df30c2c34920badab05b07d3d854f77a8b515a4250e219513fc80557ddeb3a9bed3d6cedc971975250b4c0f303da6a6d7572790a5588950d585bdbdc25d40524894ede7ef5294bdea11c89cfad359047004c034bb66577570c5bb60971c5848fb9aca5b726bdca805d485252ac4cc0f53573a66acd22d97a76a00aec1c1b7cbcb7e9f6a775fe8c458e8cedda6e565c6c0589ec7bd66587cb88536ea76ba90011ebef5b8c9be4cb5f28da68f62e69574bb9d35e66f16e370805705304e7ef549a968daf5d5e0bb7d85beb329319804ccd54a4943a16d2b23f9854e46bbaa20e2f9c4fb1c88f4ab1e2a32a234eedab07f81eafb63f00f63394f356dd3ebd6346bc4a1760faad57f3a76c94fb8aac3d45aba01ff003aa9ddfe91fed4f33d57ac3093bae0393dd4918aca528e372c95fa9db8e51a3ea0e99fc6a157da72078aa12a47faf93f9d51f4d6b48d09dba62f5b586dc524a511f2284eefe94a6bae35442402db0640984c666aa753be56a9a9397aa4044a4200188f7ad6cac376839b9e2a8bad734cbbd4dfff0010b47cdeb244048565b1ce07deabac74ad55bb86ee50c1696caf7053a7681f9fb545b3bfbad394a5db3ca41546ef78a3bcd4efafc7f9ab853880480918c73536b6f22da548bdea3b261c6ffc45372da1e2901c642e428fb7e66b2f1918fa4f6a209485184c4190638e28c47399a8d5702a5591444a876093cd0492011389c50e646239e682866077223e9569f25684ed920199a52410620c931340c907f7a29800498f5a802de633327134872d90499942811e61ce29c80411311de801242a4f3c9a00595e5f69b768b9b559dc9c023bfad750e9eea4b5d718c10ddc24799b2735cc64c927999fa51b0ebd6d749b8b656c791052a18cff005aeb195af59871fec8ed4412903881494a846d501e9543d3bd4ad6acdf86f1d9749f9d07f98fa8abee79e2b0d6de3835196fe489a8e98c6a4c969e48260ed3dc7d2b9d6a5a53da5dcf84e0dcd9f9171950f7aea1206233daa36a1a733a8daa9a742493807d0d7271daed1d6136b0734b1bf76c2e43ec2949220920c558ebfd477bac25b65570e299dbb9c4954852b027da001f99a81a9e9af69172597012d9f917d88a8d6d6aabdb86addb077b8ada3efcff005aeb1d69495238cb4a2a566afa3f4f2db2edfba27c5843723f9477fcf1f61557d5e91fe3893c7f97483f5dcaff007ad52f51d3b466edad5cb96d1e1a760cccc0f4ac76a8f3bae6aca72cadde711b4048dbe9ff009accd6d5ba4748bb748d9fc1fba6daea0bcb62b1bdc602827d81cfee2bb5030093eb5c0ba3f47d5b49d76db53580d2509329272a07b47d45741bcd72eee52125d29493908c56fd3a89497072519c1b46c6eb56b4b341f11e49207039aa1beea65ba8526d80424c428f359a2e920952b1c7a9a492731c739a2dab086d972c6156a94ad6bb7714d152cabcbf2851e4c71449d5f54b0410e342edbe06dc103d63bd494998313ed4589cfeb9aca94d334e29a25d9f51e9f76adaa5a59503042b027d3eb5688857992a0a078aca5d695677a0175949712414ac61498f45722ab859eb5a512ad3ef96eb5996df3324d55283c4b0c7d39a5717f8378152923cc27bf7a6de656d853f6aaf0df48949ec54382a1de0d66edbad5a0e219d4addcb774f18c2bfbf4ad733697772a68b0df914acad63e511c8149bdb94c90cba92225a7536a1a633e05fdba9d7418f15092a0b8efed42afd9d0992925d5adc59e5438a159faabc17e9af25e0a3a2c50a141222850ed4428039f5a038cd10f2e451cc8c500228c7a50ed44077a00a0503814a0679a04022804ff2e28e647b51441a3c91c45007426871440d000609c500714622693401fbd1c4d1034098a004466813da8a647146048f7a00bb1c7346042719a28204501818e6803980714271c5249a20a009152f23e456eedde894b039c543bed4ed34d614fdcba86d09192a315c8fab3e2d3a4aedb45400dced55c2bfa575868ca59e8e52d64b11e4e93af757697a05b172edf4ee1c360ca8fdab8ef537c43d475d5396d6eb36b687109c2943ebdab217373717970a7ee9f5bce28e4a8ff7ef4cc9e00e0d6f7461ed32b4e52ccc754019901448824f7151aced1369e3044a92b20c1ed4ecc93ed4a4a884923bd707976cefd50a8294abcc680291b6044f279a2215ba019313430124f3ec680299252703d68d02209e4f7a00052b27d282ca8a7681f7a00284ccfae09ef53746d206b17aa656e290d21054a29e67b0a80b1e607d383ef5274dd55cd27504dc21254858297133923da94de05d6489a8599b1d45765bd4ea938242626a5dae85ac3884dd30c6d28214924c1c7115ac67a97a75645cb8cb68796013b9b1bbf38aba37c9b9d0d775632b2a6ca9b41ef8c53e9ea234a717c9cd2f358bebeb74b0fb876a4ed8079fad55bcd150f15b03c54644773dc1f6a7cb6f85ac38d2d2e4c2811934f26c6efc3f1bf0ee21047213dbd68e717d850697b484d3c1e652b4111191dc1ef46a3c402448e6a339badd65f6d23c35e5691fbd489f1060ee07bcf3ef4a4f0cc706d357e9ed1ed83578ebce316eb0004a33b8ff00e2aad9bde99648db66fae470ae07bd59d82fff0088fa49dd347ff556c901055926060d637c17438a416d48794adbb08c83c77fa544a10e626ae6fdacd6357bd397d6d7457a7ada43291bd40733c0151efb40b6b8b0ff0011d116a75b13e2327911fed55da95ba34db36f4c4282de52fc77d43f94c40488f48345a16b0bd12f3c6509b77603a807023bfd6aec4d7a5513736e9b20fce49cf031c510c41fb7deb51d57a4b6a69bd66c72d391e22103199215fac7e5598484c95473883fbd65786564ed0ac1ad4b596ad5e59421524c1ee071fad596a7a0d8699a8066e3502d2149dc12500923d66a9f4eb816ba9d9dc104a1a702881de6413fad6bfabf4e73526ed750b44977c14942824cf955dfed02ab876c295e115767d3569a934b3a6ea055b6012a488e78aa6d474fb8d31f0cdd236a8fcaa1c18f7ab6d4efdbd374d6b48d38a82842dd7c083bb98ab261d1d59d3cfb0e009bdb5f3009efe9f9d4ac5c596e5c4918cdb00c76131eb47248220181228292b6dd5a1c052a4ff2aa884418fa8ad26894c000503244488a32395130076a21b615803d2920f98ce53f4a107040511922288083188ec0d26704718939a56e055bb13ef458029a716c3897585943a832958e45744e9feaa6b516d16f72b09b9e0a8ff3d73949f3289ed45e604291214332307ed5b8ceb0ccb8eec9db0f9bcc00f6a09902782393dab0da075a7876ab675249fc432990e013e27a7deb428b7d6f5b0030dfe06d0c10e284b8a91da702aca1b32c296e7486ba8ddd2d56059ba74170cf849479953ec2b27a7f4d6a970e25c485da371870e179f41d85740b4e9cb1d30170b2a7aeb6825f70951273c933da29f57aa808e6135c6af313ade29945a7f4ad959a96ebc9fc4bee11bd6f79b8abd6d943090196d2d8e0148834adc0f1951e6920124924"... 124491 more characters,
  sqlState: '42S22',
  sqlMessage: "Unknown column 'last_updated' in 'field list'"
}
 PUT /api/staff/kaiw 500 in 6211ms